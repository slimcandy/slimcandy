---
date: 2022-06-23
title: Minimal PWA for React app
description: Use Workbox library
icon: ðŸ“²
category: HTML
---

1. If you start with a clean React app, just use
   [docs](https://create-react-app.dev/docs/making-a-progressive-web-app/)

   `npx create-react-app my-app --template cra-template-pwa-typescript`

   1. If you already have an app, then make a test project as above and copy
      missing files:

      - `src/service-worker.ts `
        [_live eslint clean version_](https://github.com/slimcandy/openNotes/blob/master/src/service-worker.ts)
      - `src/serviceWorkerResistration.ts `
        [_live eslint clean version_](https://github.com/slimcandy/openNotes/blob/master/src/serviceWorkerRegistration.ts)

   2. Then add it to `src/index.tsx`:

      ```tsx
      import * as serviceWorkerRegistration from './serviceWorkerRegistration'
      // ...
      // If you want your app to work offline and load faster, you can change
      // unregister() to register() below. Note this comes with some pitfalls.
      // Learn more about service workers: https://cra.link/PWA
      serviceWorkerRegistration.register()
      ```

   3. Add and install the following dependencies:

      ```json
      {
        "dependencies": {
          "workbox-background-sync": "^6.5.3",
          "workbox-broadcast-update": "^6.5.3",
          "workbox-cacheable-response": "^6.5.3",
          "workbox-core": "^6.5.3",
          "workbox-expiration": "^6.5.3",
          "workbox-google-analytics": "^6.5.3",
          "workbox-navigation-preload": "^6.5.3",
          "workbox-precaching": "^6.5.3",
          "workbox-range-requests": "^6.5.3",
          "workbox-routing": "^6.5.3",
          "workbox-strategies": "^6.5.3",
          "workbox-streams": "^6.5.3"
        }
      }
      ```

2. Update `public/manifest.json` according to your app.
